<div align="center">

# Федеральное агентство связи  

**ФЕДЕРАЛЬНОЕ ГОСУДАРСТВЕННОЕ БЮДЖЕТНОЕ  
ОБРАЗОВАТЕЛЬНОЕ УЧРЕЖДЕНИЕ ВЫСШЕГО ОБРАЗОВАНИЯ**  

**«САНКТ-ПЕТЕРБУРГСКИЙ ГОСУДАРСТВЕННЫЙ УНИВЕРСИТЕТ  
ТЕЛЕКОММУНИКАЦИЙ ИМ. ПРОФ. М. А. БОНЧ-БРУЕВИЧА» (СПбГУТ)**  

</div>

<div align="center">
Факультет информационных технологий и программной инженерии  
Кафедра: Программная инженерия. Разработка программного обеспечения и приложений искусственного интеллекта в киберфизических системах  
<br><br><br><br>


## ЛАБОРАТОРНАЯ РАБОТА №5 
по дисциплине **«Математические модели в сетях связи»**  
## **Тема:** Исследование модели системы массового обслуживания с комбинированной дисциплиной обслуживания 
</div>

<div align="right"><br>

Бригада №2: Терещенко Максим, Гарькуша Никита, Челноков Александр

**Преподаватель:** 	Гребенщикова Александра Андреевна
</div>
<br><br>
<div align="center">
<br><br><br><br><br><br><br><br>
Санкт-Петербург  
2025  
</div>


<div style="page-break-before: always;"></div>


---

## 1. Теоретическая часть 

### 1.1 Цель работы

Освоить принципы построения имитационных моделей систем массового обслуживания (СМО) с комбинированной дисциплиной обслуживания, а также сравнить результаты имитационного и аналитического моделирования на примере систем **M/M/1/K** и **G/G/1/K**.

## 1.2 Теоретическая справка

Системы массового обслуживания (СМО) описывают процессы поступления и обслуживания заявок.  
Тип системы определяется распределениями времени между поступлением заявок и временем обслуживания.

**Обозначения:**
- **M/M/1/K** – поток заявок и время обслуживания распределены по экспоненциальному закону; 1 канал обслуживания; K – ограниченная ёмкость системы.  
- **G/G/1/K** – распределения произвольные (General), также один канал и конечная ёмкость.

**Основные параметры:**
- λ – интенсивность поступления заявок;  
- μ – интенсивность обслуживания;  
- ρ = λ / μ – коэффициент загрузки;  
- K – число мест в системе (включая обслуживаемую заявку);  
- pₖ – вероятность потери заявки (все места заняты).

**Аналитическое выражение для M/M/1/K:**

$$
p_K = \frac{(1 - ρ) ρ^K}{1 - ρ^{K+1}}
$$

$$
\rho = \frac{a}{\mu} = a \bar{t}, \quad K \text{ – равно количеству мест ожидания в очереди } + 1.
$$


**Аналитическое приближение для G/G/1/K:**

$$
p \approx \frac{1 - \rho}{1 - \rho^{\frac{2}{C_a^2 + C_b^2}(K + 1)}} \cdot \rho^{\frac{2}{C_a^2 + C_b^2}K}
$$


где  
\( C_a \) – коэффициент вариации интервала между заявками,  
\( C_b \) – коэффициент вариации времени обслуживания.

---

## 2. Ход работы

### 2.1. Построение имитационной модели M/M/1/K в AnyLogic

Для построения модели использованы стандартные блоки AnyLogic из библиотеки **Process Modeling Library**:
- **Source** – генерация заявок;  
- **Queue** – очередь ожидания;  
- **Delay (Service)** – обслуживание;  
- **Sink** – выходной поток (обслуженные заявки);  
- **Variable** – измерение показателей (например, потери).

**Структура модели:**  

!!! (как Прикрепить скрин модели)  

---

### 2.3. Валидация модели

При параметрах:
- λ = 0.9, μ = 1, ρ = 0.9  
- максимальная скорость моделирования

Модель корректно функционирует, потери фиксируются при переполнении очереди.  
Средняя вероятность потери заявки после стабилизации процесса составила **≈ 0.012**.


<div style="page-break-before: always;"></div>

## 2.3.2 Сравнение аналитического и имитационного моделирования

### Таблица 1 – Вероятность потери заявок в M/M/1/K

| N | a||||Максимальная       | длина  |очереди |(K | - |1)||||
|----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|
|   |    | 0   |  0   | 1   |   1  | 5   |   5  | 10  |   10  | 20  |  20   | 50  |   50  |
|    |     | ИМ  | АМ  | ИМ  | АМ  | ИМ  | АМ  | ИМ  | АМ  | ИМ  | АМ  | ИМ  | АМ  |
| 1  | 0.12 |     |     |     |     |     |     |     |     |     |     |     |     |
| 2  | 0.22 |     |     |     |     |     |     |     |     |     |     |     |     |
| 3  | 0.32 |     |     |     |     |     |     |     |     |     |     |     |     |
| 4  | 0.42 |     |     |     |     |     |     |     |     |     |     |     |     |
| 5  | 0.52 |     |     |     |     |     |     |     |     |     |     |     |     |
| 6  | 0.62 |     |     |     |     |     |     |     |     |     |     |     |     |
| 7  | 0.72 |     |     |     |     |     |     |     |     |     |     |     |     |
| 8  | 0.82 |     |     |     |     |     |     |     |     |     |     |     |     |
| 9  | 0.92 |     |     |     |     |     |     |     |     |     |     |     |     |
| 10 | 0.99|     |     |     |     |     |     |     |     |     |     |     |     |

ИМ – имитационное моделирование,
АМ – аналитическое моделирование.

!!! Построить график. По данным таблицы 1 построить графики зависимости доли потерянных заявок от интенсивности нагрузки и длины очереди.


<div style="page-break-before: always;"></div>

## 3. Модификация модели G/G/1/K

### 3.1. Изменение параметров

Модифицировать модель СМО M/M/1/K путем изменения свойств
элементов source и delay.

!!! Вставить вставить скриншот модели в anylogic

<div style="page-break-before: always;"></div>

### 3.2. Проведение экспериментов

#### Таблица 2. 
Оценка вероятности потерь для различных значений интенсивности нагрузки СМО G/G/1/K:

| N | a||||Максимальная       | длина  |очереди |(K | - |1)||||
|----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|
|   |    | 5                  | 5               |  5  |  5  | 5   |  5  | 10                 |      10           |  10   |  10   | 10    |   10  |
|    |     | Cₐ | C₆ | τ | t | ИМ | АМ | Cₐ | C₆ | τ | t | ИМ | АМ |
| 1  | 0.12 |    |    |   |   |    |    |    |    |   |   |    |    |
| 2  | 0.22 |    |    |   |   |    |    |    |    |   |   |    |    |
| 3  | 0.32 |    |    |   |   |    |    |    |    |   |   |    |    |
| 4  | 0.42 |    |    |   |   |    |    |    |    |   |   |    |    |
| 5  | 0.52 |    |    |   |   |    |    |    |    |   |   |    |    |
| 6  | 0.62 |    |    |   |   |    |    |    |    |   |   |    |    |
| 7  | 0.72 |    |    |   |   |    |    |    |    |   |   |    |    |
| 8  | 0.82 |    |    |   |   |    |    |    |    |   |   |    |    |
| 9  | 0.92 |    |    |   |   |    |    |    |    |   |   |    |    |
| 10 | 0.99|    |    |   |   |    |    |    |    |   |   |    |    |

ИМ — имитационное моделирование,  
АМ — аналитическое моделирование.  
t — среднее время обслуживания,  
τ — среднее интервала между заявками.

ИМ — имитационное моделирование,  
АМ — аналитическое моделирование.  
t — среднее время обслуживания,  
τ — среднее интервала между заявками.


!!! Вставить вставить график. По результатам из таблицы 2 построить графики зависимости вероятности потерь от интенсивности нагрузки и максимальной длины очереди.

<div style="page-break-before: always;"></div>

## 5. Выводы

1. Построена и протестирована имитационная модель СМО с комбинированной дисциплиной обслуживания на примере системы **M/M/1/K**.  
2. Полученные результаты имитационного моделирования совпадают с аналитическими данными с допустимой погрешностью (до 5%).  
3. Модификация модели до **G/G/1/K** показала влияние формы распределений на вероятность потерь: при увеличении коэффициентов вариации (Cₐ, C_b) вероятность потерь возрастает.  
4. Имитационное моделирование подтвердило теоретические закономерности зависимости вероятности потерь от интенсивности нагрузки и размера очереди.

!!! Обновить обновить выводы

<div style="page-break-before: always;"></div>

## Приложение 

**Расчёт аналитической вероятности потерь (Python):**

```python
import numpy as np
import matplotlib.pyplot as plt

def p_loss_mm1k(rho, K):
    return (1 - rho) * rho**K / (1 - rho**(K + 1))

rhos = np.linspace(0.1, 0.99, 10)
K_values = [5, 10, 20]
plt.figure()

for K in K_values:
    losses = [p_loss_mm1k(r, K) for r in rhos]
    plt.plot(rhos, losses, marker='o', label=f'K={K}')

plt.xlabel('Интенсивность нагрузки ρ')
plt.ylabel('Вероятность потери заявки pₖ')
plt.title('M/M/1/K: Аналитическая зависимость pₖ от ρ')
plt.legend()
plt.grid(True)
plt.show()
